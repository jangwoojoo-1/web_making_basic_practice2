<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssg.board.mapper.BoardMapper">

    <resultMap id="boardResultMap" type="com.ssg.board.domain.BoardVO">
        <id property="postId"    column="post_id"/>
        <result property="title"   column="title"/>
        <result property="content" column="content"/>
        <result property="writer"  column="writer"/>
        <result property="passphrase" column="passphrase"/>
        <result property="createdAt"  column="created_at" jdbcType="DATE" javaType="java.time.LocalDate"/>
        <result property="updatedAt"  column="updated_at" jdbcType="DATE" javaType="java.time.LocalDate"/>
    </resultMap>

    <insert id="insert" parameterType="com.ssg.board.domain.BoardVO">
        insert into board_post(title, content, writer, passphrase) values (#{title},
        #{content}, #{writer}, #{passphrase})
    </insert>

    <select id="selectAll" resultMap="boardResultMap">
        select *
        from board_post
        order by post_id
    </select>

    <select id="selectOne" resultMap="boardResultMap">
        select post_id, title, content, writer, passphrase, created_at, updated_at from board_post where post_id = #{postId}
    </select>

    <delete id="delete">
        delete from board_post where post_id=#{postId}
    </delete>

    <update id="update">
        update board_post set title=#{title}, content=#{content} where post_id=#{postId}
    </update>

</mapper>